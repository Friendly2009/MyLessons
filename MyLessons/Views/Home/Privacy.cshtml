@model user;
@using MyLessons.ConverterSQLClass;
@{
	List<lesson> ClassLessons = new List<lesson>();

	if(!(ViewBag.Lessons is null))
	{
		for(int i = 0; i < ViewBag.Lessons.Count; i++)
		{
			if(ViewBag.Lessons[i].clas == ViewBag.Clas)
			{
				ClassLessons.Add(ViewBag.Lessons[i]);
			}
		}
	}	

	void GetElementTable(int day,int num)
	{
		for(int i = 0; i < ClassLessons.Count; i++)
		{
			if (ClassLessons[i].day == $"{day}" && ClassLessons[i].number == $"{num}")
			{
				<p class="m-1">@ClassLessons[i].less</p>
				<p class="m-1">@ClassLessons[i].room</p>
				<p class="m-1">@ClassLessons[i].teacher</p>
			}
		}
	}
}
<div>
	<div class="row justify-content-center container">
		@{
			for (int i = 0; i < ViewBag.socials.Count; i++)
			{
				<form asp-action="Choose" asp-controller="Home" method="get" class="col-1 m-1">
					<input type="hidden" asp-for="login" />
					<input type="hidden" name="clas" value="@ViewBag.socials[i]" />
					<button type="submit" class="btn btn-dark w-100">@ViewBag.socials[i]</button>
				</form>
			}
		}
	</div>
	<h1 class="align-content-center">@ViewBag.Clas</h1>
	<table class="table">
		<tr>
			<td>@ViewBag.Clas</td>
			<td>Понедельник</td>
			<td>Вторник</td>
			<td>Среда</td>
			<td>Четверг</td>
			<td>Пятница</td>
			<td>Суббота</td>
		</tr>
		<tr>
			<td>1</td>
			<td>@{GetElementTable(1, 1);}</td>
			<td>@{GetElementTable(1, 2);}</td>
			<td>@{GetElementTable(1, 3);}</td>
			<td>@{GetElementTable(1, 4);}</td>
			<td>@{GetElementTable(1, 5);}</td>
			<td>@{GetElementTable(1, 6);}</td>
		</tr>
		<tr>
			<td>2</td>
			<td>@{GetElementTable(2, 1);}</td>
			<td>@{GetElementTable(2, 2);}</td>
			<td>@{GetElementTable(2, 3);}</td>
			<td>@{GetElementTable(2, 4);}</td>
			<td>@{GetElementTable(2, 5);}</td>
			<td>@{GetElementTable(2, 6);}</td>
		</tr>
		<tr>
			<td>3</td>
			<td>@{GetElementTable(3, 1);}</td>
			<td>@{GetElementTable(3, 2);}</td>
			<td>@{GetElementTable(3, 3);}</td>
			<td>@{GetElementTable(3, 4);}</td>
			<td>@{GetElementTable(3, 5);}</td>
			<td>@{GetElementTable(3, 6);}</td>
		</tr>
		<tr>
			<td>4</td>
			<td>@{GetElementTable(4, 1);}</td>
			<td>@{GetElementTable(4, 2);}</td>
			<td>@{GetElementTable(4, 3);}</td>
			<td>@{GetElementTable(4, 4);}</td>
			<td>@{GetElementTable(4, 5);}</td>
			<td>@{GetElementTable(4, 6);}</td>
		</tr>
	</table>
</div>
